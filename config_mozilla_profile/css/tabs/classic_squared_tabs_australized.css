/* Firefox Quantum userChrome.css tweaks ************************************************/
/* Github: https://github.com/aris-t2/customcssforfx ************************************/
/****************************************************************************************/


/* NOTE  ********************************************************************************/
/* Variables are set inside '.\config\' folders CSS files, if complete package is used! */

:root {
  --classic_squared_tabs_tab_height: 26px;
  --classic_squared_tabs_tab_default_loading_icon_color: #0A84FF;
  --classic_squared_tabs_active_tab: linear-gradient(to top,#f9f9fa,#f9f9fa,#f9f9fa);
  --classic_squared_tabs_lwt-dark_active_tab: inherit;
  --classic_squared_tabs_lwt-bright_active_tab: inherit;
  --classic_squared_tabs-border_size: 1px;
  --classic_squared_tabs-border1: #5f7181;
  --classic_squared_tabs-border-radius: 3px;
  
  --tab-min-height: var(--classic_squared_tabs_tab_height) !important;
  --mltabs-newtab-height: calc( var(--classic_squared_tabs_tab_height) + 1px ) !important;
  --tab-min-height_tnot: calc( var(--classic_squared_tabs_tab_height) - 1px ) !important;
  --space_below_content: calc( var(--classic_squared_tabs_tab_height) + 1px ) !important;
}

/* adjust tab toolbars buttons for squared tabs *//*
#TabsToolbar #alltabs-button .toolbarbutton-icon,
#TabsToolbar > #new-tab-button .toolbarbutton-icon,
#TabsToolbar > toolbarpaletteitem > #new-tab-button .toolbarbutton-icon {
  padding: 3px !important;
}
*/
/*******************************************/
/**** default themes tab colors [start] ****/
/*******************************************/

/* black tab text color *//*
#TabsToolbar:not(:-moz-lwtheme) .tabbrowser-tab {
  color: #000000 !important;
}

/* remove default tab colors */
#TabsToolbar:not(:-moz-lwtheme) .tabbrowser-tab {
  background: unset !important;
}

/* default grey tabs */
#TabsToolbar:not(:-moz-lwtheme) :-moz-any(.tabs-newtab-button,#tabs-newtab-button),
#TabsToolbar:not(:-moz-lwtheme) .tabbrowser-tab .tab-content {
  background-image: linear-gradient(to top,transparent,transparent) !important;
}
#TabsToolbar:not(:-moz-lwtheme) .tabbrowser-tab .tab-content[selected="true"] {
  background-image: var(--classic_squared_tabs_active_tab) !important;
}
#TabsToolbar:not(:-moz-lwtheme) :-moz-any(.tabs-newtab-button,#tabs-newtab-button):hover,
#TabsToolbar:not(:-moz-lwtheme) .tabbrowser-tab:hover .tab-content:not([selected="true"]) {
  background-image: linear-gradient(to top,transparent,transparent) !important;
}

/* unloaded tab */
#TabsToolbar:not(:-moz-lwtheme) .tabbrowser-tab[pending] .tab-content {
  background-image: linear-gradient(to top,transparent,transparent) !important;
}

/* bold text on selected tab *//*
.tabbrowser-tab[selected="true"] {
  font-weight: bold !important;
}
*/

/* tab border color */
#TabsToolbar:not(:-moz-lwtheme) :-moz-any(.tabs-newtab-button,#tabs-newtab-button):hover,
#TabsToolbar:not(:-moz-lwtheme) .tabbrowser-tab .tab-content {
  border-top: var(--classic_squared_tabs-border_size) solid var(--classic_squared_tabs-border1) !important;
  border-left: var(--classic_squared_tabs-border_size) solid var(--classic_squared_tabs-border1) !important;
  border-right: var(--classic_squared_tabs-border_size) solid var(--classic_squared_tabs-border1) !important;
}

#TabsToolbar :-moz-any(.tabs-newtab-button,#tabs-newtab-button) {
  border-top: var(--classic_squared_tabs-border_size) solid transparent !important;
  border-left: var(--classic_squared_tabs-border_size) solid transparent !important; 
  border-right: var(--classic_squared_tabs-border_size) solid transparent !important;
}

#TabsToolbar .tabbrowser-tab:not(:-moz-lwtheme):not([selected]):not(:hover) .tab-content {
  border-top: var(--classic_squared_tabs-border_size) solid transparent !important;
  border-left: var(--classic_squared_tabs-border_size) solid transparent !important; 
  border-right: var(--classic_squared_tabs-border_size) solid transparent !important;
}


/*******************************************/
/***** цвета вкладок тем по умолчанию [end] *****/
/*******************************************/

/********************************************/
/******* цвета вкладок кастом [start] *******/
/********************************************/

/* легкие цвета вкладок темы*/
.tabbrowser-tab[selected]:-moz-lwtheme-darktext .tab-content {
  background-image: var(--classic_squared_tabs_lwt-dark_active_tab) !important;
}
:-moz-any(.tabs-newtab-button,#tabs-newtab-button):-moz-lwtheme-darktext,
.tabbrowser-tab:not([selected]):-moz-lwtheme-darktext .tab-content {
  background-image: linear-gradient(transparent, transparent) !important;
}
:-moz-any(.tabs-newtab-button,#tabs-newtab-button):hover:-moz-lwtheme-darktext,
.tabbrowser-tab:not([selected]):hover:-moz-lwtheme-darktext .tab-content {
  background-image: linear-gradient(transparent, transparent) !important;
}
.tabbrowser-tab[selected]:-moz-lwtheme-brighttext .tab-content {
  background-image: var(--classic_squared_tabs_lwt-bright_active_tab) !important;
}
:-moz-any(.tabs-newtab-button,#tabs-newtab-button):-moz-lwtheme-brighttext,
.tabbrowser-tab:not([selected]):-moz-lwtheme-brighttext .tab-content {
  background-image: linear-gradient(transparent, transparent) !important;
}
:-moz-any(.tabs-newtab-button,#tabs-newtab-button):hover:-moz-lwtheme-brighttext,
.tabbrowser-tab:not([selected]):hover:-moz-lwtheme-brighttext .tab-content {
  background-image: linear-gradient(transparent, transparent) !important;
}

.tabbrowser-tab[selected]:-moz-lwtheme-darktext .tab-content {
  border-top: 1px solid rgba(0,0,0,.5) !important;
  border-left: 1px solid rgba(0,0,0,.4) !important; 
  border-right: 1px solid rgba(0,0,0,.4) !important;
}
/* Цвет "бордюра" вверху вкладки */
.tabbrowser-tab[selected]:-moz-lwtheme-brighttext .tab-content {
  border-top: 3px solid #a700d199 !important;
  border-left: 0px solid #a700d199 !important; 
  border-right: 0px solid #a700d199 !important; 
}
#TabsToolbar:-moz-lwtheme :-moz-any(.tabs-newtab-button,#tabs-newtab-button):-moz-lwtheme-darktext:hover,
.tabbrowser-tab .tab-content:-moz-lwtheme-darktext:hover {
  border-top: 1px solid rgba(0, 0, 0, 0.2) !important;
  border-left: 1px solid rgba(0,0,0,.2) !important; 
  border-right: 1px solid rgba(0,0,0,.2) !important; 
}
/* Цвет "бордюра" вверху вкладки при наведении */
#TabsToolbar:-moz-lwtheme :-moz-any(.tabs-newtab-button,#tabs-newtab-button):-moz-lwtheme-brighttext:hover,
.tabbrowser-tab .tab-content:-moz-lwtheme-brighttext:hover {
  border-top: 2px solid rgba(241, 9, 118, 0.6) !important;
  border-left: 0px solid rgba(255,255,255,.2) !important; 
  border-right: 0px solid rgba(255,255,255,.2) !important; 
}
/* Смещение "внутренности" вкладки при наведении */
#TabsToolbar:-moz-lwtheme :-moz-any(.tabs-newtab-button,#tabs-newtab-button):-moz-lwtheme-darktext:not([selected]):not(:hover),
.tabbrowser-tab .tab-content:-moz-lwtheme-darktext:not([selected]):not(:hover),
#TabsToolbar:-moz-lwtheme :-moz-any(.tabs-newtab-button,#tabs-newtab-button):-moz-lwtheme-brighttext:not([selected]):not(:hover),
.tabbrowser-tab .tab-content:-moz-lwtheme-brighttext:not([selected]):not(:hover) {
  border-top: 2px solid transparent !important;
  border-left: 1px solid transparent !important; 
  border-right: 1px solid transparent !important; 
}
/********************************************/
/******** цвета вкладок кастом [end] ********/
/********************************************/

/* строка табуляции и фон табуляции*/
.tabbrowser-tab:-moz-lwtheme[selected] .tab-line[selected=true] {
  height: 0px !important;
}

.tabbrowser-tab > .tab-stack > .tab-background > .tab-line[selected=true],
.tabbrowser-tab:hover > .tab-stack > .tab-background > .tab-line:not([selected=true]) {
  background-color: rgba(0,0,0,.2);
  opacity: 0 !important;
}

.tabbrowser-tab .tab-background[selected=true] {
  border-image: unset !important;
  border-image-slice: 0 !important;
}

.tabbrowser-tab:not([selected]) .tab-background{
  display: none !important;
}

.tabbrowser-tab:hover > .tab-stack > .tab-background:not([selected=true]) {
  background-color: rgba(0,0,0,.0) !important;
}

/* закругление верхней границы */
#TabsToolbar :-moz-any(.tabs-newtab-button,#tabs-newtab-button),
#TabsToolbar .tabbrowser-tab,
#TabsToolbar .tabbrowser-tab .tab-stack,
#TabsToolbar .tabbrowser-tab .tab-background,
#TabsToolbar .tabbrowser-tab .tab-content  {
  border-top-left-radius: 8px !important;
  border-top-right-radius: 8px !important;
  /* var(--classic_squared_tabs-border-radius) */
}

/* цвет анимации загрузки */
#TabsToolbar:not(:-moz-lwtheme) .tabbrowser-tab,
#TabsToolbar:not(:-moz-lwtheme) .tabbrowser-tab:not([visuallyselected=true]) {
  --tab-loading-fill: var(--classic_squared_tabs_tab_default_loading_icon_color) !important;
}
.tab-throbber[busy]::before,
.tab-throbber[progress]::before {
  fill: var(--classic_squared_tabs_tab_default_loading_icon_color)  !important;
}

/* пространство между вкладками */
:-moz-any(.tabs-newtab-button,#tabs-newtab-button),
.tabbrowser-tab:not([pinned]) {
  -moz-margin-start: 0px !important;
}

/* ширина кнопки "новая вкладка" */
#TabsToolbar :-moz-any(.tabs-newtab-button,#tabs-newtab-button){
  min-width: 0px !important;
  width: 28px !important;
  margin-bottom: -1px !important;
}

/* размер "плюса" "новой вклаки" */
#TabsToolbar :-moz-any(.tabs-newtab-button,#tabs-newtab-button) .toolbarbutton-icon{
  min-width: 0px !important;
  min-height: 0px !important;
  width: 17px !important;
  height: 17px !important;
  margin: 0px !important;
  margin-bottom: 0px !important;
  padding: 0px !important;
  background: unset !important;
  box-shadow: unset !important;
}

/* размер и положение значка закрытия вкладки */
.tabbrowser-tab:not([pinned]) .close-icon > .toolbarbutton-icon {
  width: 16px !important;
  height: 16px !important;
}

.tabbrowser-tab:not([pinned]) .tab-content  .close-icon,
:root[uidensity=touch]  .tabbrowser-tab:not([pinned]) .tab-content .close-icon {
  width: 18px !important;
  height: 18px !important;
  -moz-margin-end: -2px !important;
}

:root[uidensity=touch] .tabbrowser-tab:not([pinned]) .tab-content  .close-icon,
:root[uidensity=touch] .tabbrowser-tab:not([pinned]) .close-icon > .toolbarbutton-icon {
  margin-top: -8px !important;
  margin-bottom: -8px !important;
}

:root[uidensity=touch] .tabbrowser-tab:not([pinned]) .tab-close-button {
  margin-inline-end: unset !important;
  padding: unset !important;
}

/*положение значка вкладки*/
.tabbrowser-tab:not([pinned]):not([locked]) .tab-throbber,
.tabbrowser-tab:not([pinned]) .tab-icon-image{
  -moz-margin-start: 2px !important;
}

/* уменьшить минимальную высоту вкладки */
#tabbrowser-tabs,
#tabbrowser-tabs > .tabbrowser-arrowscrollbox,
.tabbrowser-tabs[positionpinnedtabs] > .tabbrowser-tab[pinned] {
  min-height: var(--classic_squared_tabs_tab_height) !important;
}
#TabsToolbar #tabbrowser-tabs[overflow="true"] .tabbrowser-tab[pinned] {
  min-height: calc( var(--classic_squared_tabs_tab_height) - 1px ) !important;
  max-height: calc( var(--classic_squared_tabs_tab_height) - 1px ) !important;
}

/* Windows 10 fix */
@media (-moz-os-version: windows-win10) {
	.titlebar-button {
	  padding-top: 1px !important;
	  padding-bottom: 1px !important;
	}
}

/*закрепленные вкладки*/
#TabsToolbar .tab-content[pinned] {
  padding: 0 6px !important;
}

/*удалить верхнюю строку над вкладками для кастом тем */
#main-window:-moz-lwtheme #browser-panel{
  border: unset !important;
  box-shadow: unset !important;
}

/* скрыть разделители табуляции и границы, установленные Firefox */
.tabbrowser-tab::after,
.tabbrowser-tab::before {
  opacity: 0 !important;
  border-image: unset !important;
  border-image-slice: unset !important;
  width: unset !important;
}

#tabbrowser-tabs[movingtab] > .tabbrowser-tab[beforeselected]:not([last-visible-tab])::after,
.tabbrowser-tab:not([selected]):not([afterselected-visible]):not([afterhovered]):not([first-visible-tab]):not(:hover)::before,
#tabbrowser-tabs:not([overflow]) > .tabbrowser-tab[last-visible-tab]:not([selected]):not([beforehovered]):not(:hover)::after {
  content: unset !important;
  display: unset !important;
}

.tabbrowser-tab::after,
.tabbrowser-tab::before {
  border-left: unset !important;
  border-image: unset !important;
  border-image-slice: unset !important;
  border-top-left-radius: 3px !important;
  border-top-right-radius: 3px !important;
}

:root[tabsintitlebar]:not([extradragspace]) #toolbar-menubar[autohide=true] ~ #TabsToolbar > #tabbrowser-tabs > .tabbrowser-tab::after,
:root[tabsintitlebar]:not([extradragspace]) #toolbar-menubar[autohide=true] ~ #TabsToolbar > #tabbrowser-tabs > .tabbrowser-tab::before,
.tabbrowser-tab:hover::before,
.tabbrowser-tab[last-visible-tab]:hover::after,
#tabbrowser-tabs:not([movingtab]) > .tabbrowser-tab[afterhovered]::before {
  border-image: unset !important;
  border-image-slice: unset !important;
  border-top-left-radius: 3px !important;
  border-top-right-radius: 3px !important;
}

.tabbrowser-tab,
.tab-stack,
.tab-background {
  border: unset !important;
}

/* удалить заполнители заголовка */
#TabsToolbar .titlebar-placeholder[type="pre-tabs"],
#TabsToolbar .titlebar-placeholder[type="post-tabs"] {
  opacity: 0 !important;
}

#TabsToolbar .titlebar-spacer[type="pre-tabs"],
#TabsToolbar .titlebar-spacer[type="post-tabs"] {
  display: none !important;
}

/* make sure toolbar buttons do not increase toolbar height */
#TabsToolbar toolbarbutton .toolbarbutton-badge-stack,
#TabsToolbar > toolbarpaletteitem,
#TabsToolbar > toolbarbutton {
  min-height: unset !important;
  padding: unset !important;
  margin: 0 2px !important;
}

#TabsToolbar > toolbarpaletteitem .toolbarbutton-icon,
#TabsToolbar > toolbarbutton .toolbarbutton-icon {
  min-width: 16px !important;
  width: unset !important;
  min-height: 16px !important;
  height: unset !important;
  padding: unset !important;
  margin: unset !important;
}

#TabsToolbar toolbarbutton .toolbarbutton-badge-stack .toolbarbutton-icon {
  width: 16px !important;
  height: 16px !important;
}

#TabsToolbar-customization-target > toolbarpaletteitem toolbarbutton .toolbarbutton-icon,
#TabsToolbar-customization-target > toolbarbutton .toolbarbutton-icon {
  padding: unset !important;
  height: unset !important;
  width: unset !important;
}

/* indicator for multiselected tabs */
.tabbrowser-tab[multiselected="true"] .tab-stack .tab-content {
  box-shadow:	inset 2px 0 0 Highlight,
				inset -2px 0 0 Highlight,
				inset 0 2px 0 Highlight,
				inset 0 -2px 0 Highlight !important;
}

/* удалить ненужный значок в ожидании */
.tab-icon-pending {
  display: none !important;
}

/* Fx65+ fixes */
#main-window[sizemode="maximized"][tabsintitlebar] #TabsToolbar {
  margin-top: -1px !important;
}

#main-window #navigator-toolbox #titlebar #TabsToolbar > .toolbar-items {
  padding-top: 0 !important;
  margin-top: 0 !important;
}

@media (-moz-os-version: windows-win10) {
  #main-window[sizemode="maximized"] .titlebar-buttonbox-container {
	-moz-margin-end: -2px !important;
  }
}